# Complex Task PRP - Plumber SaaS

## üéØ Comprehensive PRP Analysis
- **Complexity**: Complex (3+ days)
- **System Impact**: {system_impact_level}
- **Architecture Changes**: {architecture_scope}
- **Active Specialists**: {specialist_list}
- **Integration Complexity**: {integration_complexity}
- **Dutch Market Impact**: {dutch_market_scope}

## ‚ùì Comprehensive Clarifying Questions (Rule #9)

### System Architecture & Scope
- **Architectural Boundaries**: {architecture_questions}
- **System Integration Points**: {system_integration_questions}
- **Database Schema Impact**: {database_questions}
- **Performance Requirements**: {performance_questions}

### Technical Implementation
- **tRPC Router Changes**: {trpc_questions}
- **Supabase/Prisma Updates**: {database_technical_questions}
- **Real-time Requirements**: {realtime_questions}
- **Authentication/Authorization**: {auth_questions}

### Dutch Market Integration
- **BTW System Integration**: {btw_integration_questions}
- **Dutch Regulation Compliance**: {compliance_questions}
- **Amsterdam-Specific Features**: {amsterdam_questions}
- **iDEAL/Mollie Integration**: {payment_integration_questions}
- **Dutch Language Support**: {language_questions}

### Mobile & Cross-Platform
- **Mobile Experience Requirements**: {mobile_experience_questions}
- **Touch Interaction Patterns**: {touch_questions}
- **Responsive Design Complexity**: {responsive_questions}
- **Performance on Mobile**: {mobile_performance_questions}

### Competitive Strategy
- **Data Collection Opportunities**: {data_strategy_questions}
- **Learning Velocity Enhancement**: {learning_questions}
- **Network Effect Potential**: {network_effect_questions}
- **Competitive Moat Building**: {moat_questions}

## üîç Comprehensive Legacy Code Analysis (Rule #2)

### System-Wide Legacy Patterns
{comprehensive_legacy_analysis}

### Migration Strategy
- **Migration Path**: {migration_strategy}
- **Risk Assessment**: {migration_risks}
- **Rollback Plan**: {rollback_strategy}
- **Timeline**: {migration_timeline}

### Deletion Confirmation Required
{deletion_confirmation_details}

## üß† Multi-Specialist Integration

### Specialist Coordination
{specialist_coordination_strategy}

### Pattern Synthesis
{pattern_synthesis_results}

### Conflict Resolution
{specialist_conflict_resolutions}

## üõ†Ô∏è Comprehensive Implementation Strategy

### Phase 1: Foundation & Architecture
```typescript
// === SYSTEM ARCHITECTURE FOUNDATION ===
{foundation_architecture}
```

### Phase 2: Core Implementation
```typescript
// === CORE SYSTEM IMPLEMENTATION ===
{core_implementation}
```

### Phase 3: Integration Layer
```typescript
// === INTEGRATION LAYER IMPLEMENTATION ===
{integration_implementation}
```

### Phase 4: Dutch Market Features
```typescript
// === DUTCH MARKET SPECIFIC FEATURES ===
{dutch_implementation}
```

## üèóÔ∏è Database & Backend Architecture

### Prisma Schema Evolution
```prisma
// === COMPREHENSIVE SCHEMA UPDATES ===
{prisma_schema_updates}
```

### Supabase RLS Policies
```sql
-- === ROW LEVEL SECURITY POLICIES ===
{rls_policy_implementation}
```

### Real-time Subscriptions
```typescript
// === REAL-TIME SUBSCRIPTION ARCHITECTURE ===
{realtime_implementation}
```

## üé® Advanced UI/UX Implementation

### Component System Architecture
{component_system_design}

### Design System Evolution
{design_system_evolution}

### Performance Optimization
{performance_optimization_strategy}

### Accessibility Compliance
{comprehensive_accessibility}

## üîí Security & Multi-tenancy

### Comprehensive Security Model
{security_model_implementation}

### Multi-tenant Data Isolation
{multi_tenant_implementation}

### GDPR Compliance
{gdpr_compliance_implementation}

## üí≥ Payment System Integration

### Mollie/iDEAL Architecture
{payment_system_architecture}

### BTW Calculation Engine
{btw_calculation_system}

### Invoice Generation System
{invoice_system_implementation}

## üî¨ Comprehensive Testing Strategy

### Multi-layer Testing Approach
{comprehensive_testing_strategy}

### Performance Testing
{performance_testing_detailed}

### Security Testing
{security_testing_approach}

### Accessibility Testing
{accessibility_testing_comprehensive}

## üè∞ Major Competitive Moats Enhanced

### Data Network Effects
- **Data Collection Infrastructure**: {data_infrastructure}
- **AI Training Pipeline**: {ai_training_enhancements}
- **Customer Intelligence**: {customer_intelligence_gains}
- **Predictive Capabilities**: {predictive_features}

### Netherlands Market Domination
- **Local Market Features**: {comprehensive_dutch_features}
- **Regulatory Compliance**: {regulatory_advantages}
- **Cultural Integration**: {cultural_optimization}
- **Geographic Network**: {geographic_network_effects}

### Learning Velocity Multiplication
- **Knowledge Acceleration**: {knowledge_acceleration}
- **Pattern Recognition**: {pattern_recognition_improvements}
- **Cross-Customer Learning**: {cross_customer_benefits}
- **Predictive Optimization**: {predictive_optimization}

### Platform Network Effects
- **Ecosystem Benefits**: {ecosystem_enhancements}
- **Multi-sided Value**: {multi_sided_value}
- **Switching Costs**: {switching_cost_increases}
- **Data Moats**: {data_moat_strengthening}

## ‚úÖ Comprehensive 10 Golden Rules Validation

### Rule #1: NO Mock Data
- **Status**: {rule1_comprehensive_status}
- **Real Data Implementation**: {real_data_details}
- **Error Handling**: {error_handling_details}

### Rule #2: Smart Legacy Delete
- **Status**: {rule2_comprehensive_status}
- **Deletion Strategy**: {deletion_strategy_details}
- **Migration Approach**: {migration_approach_details}

### Rule #3: Smart Comments
- **Status**: {rule3_comprehensive_status}
- **Documentation Strategy**: {documentation_strategy}
- **JSDoc Coverage**: {jsdoc_coverage}

### Rule #4: Type Safety
- **Status**: {rule4_comprehensive_status}
- **Type Coverage**: {type_coverage_percentage}
- **Safety Guarantees**: {safety_guarantees}

### Rule #5: Shared Components
- **Status**: {rule5_comprehensive_status}
- **Component Reusability**: {component_reusability_score}
- **Architecture Benefits**: {architecture_benefits}

### Rule #6: MCP Tools Only
- **Status**: {rule6_comprehensive_status}
- **MCP Integration**: {mcp_integration_details}
- **Knowledge Freshness**: {knowledge_freshness_status}

### Rule #7: T3 Conventions
- **Status**: {rule7_comprehensive_status}
- **Convention Adherence**: {convention_adherence_score}
- **Best Practice Implementation**: {best_practice_details}

### Rule #8: Real Data/Errors
- **Status**: {rule8_comprehensive_status}
- **Error Strategy**: {error_strategy_comprehensive}
- **User Experience**: {error_ux_details}

### Rule #9: Context Engineering
- **Status**: {rule9_comprehensive_status}
- **Planning Completeness**: {planning_completeness}
- **Context Integration**: {context_integration_success}

### Rule #10: Proactive Patterns
- **Status**: {rule10_comprehensive_status}
- **Improvement Suggestions**: {improvement_count}
- **Innovation Opportunities**: {innovation_opportunities}

## üöÄ Strategic Proactive Suggestions

### Immediate Optimizations
{immediate_optimizations}

### Medium-term Enhancements
{medium_term_enhancements}

### Long-term Strategic Opportunities
{longterm_opportunities}

### Competitive Advantage Multipliers
{advantage_multipliers}

## üìä Comprehensive Success Metrics

### Development Metrics
- **Estimated Implementation Time**: {comprehensive_time_estimate}
- **Complexity Factors**: {comprehensive_complexity_factors}
- **Risk Assessment**: {risk_assessment_score}
- **Success Probability**: {success_probability}

### Business Impact Metrics
- **Revenue Enhancement Potential**: {revenue_enhancement}
- **Customer Experience Improvement**: {customer_experience_score}
- **Operational Efficiency Gains**: {efficiency_gains}
- **Market Position Strengthening**: {market_position_improvement}

### Technical Quality Metrics
- **Type Safety Coverage**: {type_safety_comprehensive}
- **Performance Impact**: {performance_impact_detailed}
- **Maintainability Score**: {maintainability_score}
- **Scalability Rating**: {scalability_rating}

### Competitive Advantage Metrics
- **Data Collection Enhancement**: {data_collection_score}
- **Netherlands Market Strengthening**: {market_strengthening_score}
- **Learning Velocity Improvement**: {learning_velocity_score}
- **Network Effect Amplification**: {network_effect_score}

## üéØ Comprehensive Next Steps

### Phase 1: Foundation (Week 1)
1. {phase1_step1}
2. {phase1_step2}
3. {phase1_step3}

### Phase 2: Core Development (Weeks 2-3)
1. {phase2_step1}
2. {phase2_step2}
3. {phase2_step3}

### Phase 3: Integration & Testing (Week 4)
1. {phase3_step1}
2. {phase3_step2}
3. {phase3_step3}

### Phase 4: Dutch Market Optimization (Week 5)
1. {phase4_step1}
2. {phase4_step2}
3. {phase4_step3}

### Long-term Strategic Initiatives
- {longterm_initiative1}
- {longterm_initiative2}
- {longterm_initiative3}

---

**Complex PRP Complete** | {timestamp}
**Specialists Coordinated**: {specialist_count}
**Context Files Integrated**: {context_file_count}
**Dutch Market Optimized**: ‚úÖ
**Competitive Moats Significantly Enhanced**: ‚úÖ
**Strategic Advantage Multiplied**: ‚úÖ